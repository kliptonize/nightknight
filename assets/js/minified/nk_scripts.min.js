/**
 * Nightknight - Nightknight - Find the best hero lookout spot
 * @version v0.1.0
 * @compile-time: Thu Sep 08 2016 22:25:10 GMT+0200 (CEST)
 */
var nkControllers=angular.module("nk.controllers",[]),nkDirectives=angular.module("nk.directives",[]),nkFactories=angular.module("nk.factories",[]),nkApp=angular.module("nk",["nk.controllers","nk.directives","nk.factories","ui.router"]),baseUrl="app/components/";nkApp.config(["$stateProvider","$urlRouterProvider","$locationProvider",function(e,t,n){n.html5Mode(!0).hashPrefix("!"),t.otherwise(function(e,t){var n=e.get("$state");n.go("fe.index")}),e.state("fe",{url:"",views:{footer:{templateUrl:baseUrl+"core/footer/views/footer.template.html",controller:"FooterController"}}}).state("fe.index",{url:"/",views:{"body@":{templateUrl:baseUrl+"landing/views/landing.template.html",controller:"LandingController"}}})}]),nkControllers.controller("LandingController",["$scope","$interval",function(e,t){e.fakeSessionVariables={session:"#",userid:"#",duration:"00:00:00"},e.search={isActive:!1,results:[]},e.switchSearchResult=function(t){var n=-1;switch(angular.forEach(e.search.results,function(e,t){e.active&&(n=t)}),t){case"next":n<e.search.results.length-1&&(e.search.results[n].active=!1,e.search.results[n+1].active=!0);break;case"prev":n>0&&(e.search.results[n].active=!1,e.search.results[n-1].active=!0)}},e.$on("search.startSearch",function(t,n){console.log(n.query),e.search.isActive=!0}),e.$on("search.gotResults",function(t,n){e.search.results=n.results,angular.forEach(e.search.results,function(e,t){e.active=!1}),e.search.results[0].active=!0});var n=function(){i("session",Math.floor(1e8*Math.random())+536135,"right"),i("userid",Math.floor(1e8*Math.random())+765637,"right");var n=0,o=t(function(){e.search.isActive?t.cancel(o):(n++,e.fakeSessionVariables.duration=r(n))},1e3)},r=function(e){var t=0,n=0,r=0;return r=e%60,n=Math.floor(e/60)%60,t=Math.floor(e/3600)%24,r<10&&(r="0"+r),n<10&&(n="0"+n),t<10&&(t="0"+t),t+":"+n+":"+r},i=function(n,r,i){var o=0;r=r.toString();var a=t(function(){if(o>r.length)return t.cancel(a),!0;switch(i){case"left":default:e.fakeSessionVariables[n]=r.substring(0,o);break;case"right":e.fakeSessionVariables[n]=r.substring(r.length-o)}o++},50)};$(window).width()>="768"&&n()}]),nkDirectives.directive("searchbox",["$timeout","$interval","$rootScope","$sce",function(e,t,n,r){return{link:function(i,o,a){i.placeholder="Find your city and press enter",i.activeSearch=!1,i.helpText=r.trustAsHtml("Find your nearest lookout spot<span class='hide-mobile'> online, and become the hero your city deserves:</span>");var s=["Find your city and press enter","Living in Antwerp? Try 'Antwerp' and hit enter ;)","Come on, have a look!","Try something like 'San Francisco', or 'Brussels'.."],u=0;$(window).width()>="768"?e(function(){c()},i.animationDelay):i.placeholder='"Antwerp"';var c=function(){var e=t(function(){0==i.placeholder.length?(t.cancel(e),i.activeSearch||l()):i.placeholder=i.placeholder.substring(0,i.placeholder.length-1)},50)},l=function(){var n;do n=Math.floor(Math.random()*s.length);while(n==u);u=n;var r=1,o=t(function(){r>s[n].length?(t.cancel(o),e(function(){i.activeSearch||c()},i.animationDelay)):(i.placeholder=s[n].substring(0,r),r++)},50)};i.searchLocation=function(){n.$broadcast("search.startSearch",{query:i.searchQuery}),i.activeSearch=!0,i.helpText=r.trustAsHtml("These results are still fake.. <i>I'm working on it!</i>"),e(function(){var e=[{title:"San Francisco bay",img:"../assets/images/results/J98HWXTPPV.jpg",claims:254,date:"November 25th, 1991",place:"San Francisco"},{title:"New York City",img:"../assets/images/results/74Z0WS8M8G.jpg",claims:254,date:"September 8th, 2016",place:"New York"}];n.$broadcast("search.gotResults",{results:e})},2e3)}},restrict:"AEC",scope:{animationDelay:"="},templateUrl:"app/directives/searchbox/searchbox.template.html"}}]),nkControllers.controller("FooterController",["$scope","$state",function(e,t){}]);